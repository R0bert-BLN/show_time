{% extends 'public/base.html.twig' %}

{% block title %}Festival{% endblock %}

{% block content %}
    <div x-data="{...colors(), ...buttons()}" class="flex flex-col items-center mt-12 w-5/12 mx-auto">
        <div class="flex items-center justify-center w-full">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="0.5" stroke="currentColor" class="size-50 text-[#ca8f53]">
                <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
            </svg>

            <div class="flex flex-col justify-between gap-7">
                <h1 class="text-[27px] font-bold" :class="primaryColor">{{ festival.name }}</h1>

                <div>
                    <p class="font-bold text-[17px] py-1" :class="textColor">{{ festival.startDate|date('d-m-Y') }} - {{ festival.endDate|date('d-m-Y') }}</p>
                    <p class="font-bold text-[17px] py-1" :class="textColor">{{ festival.location.name }} - {{ festival.location.city }} - {{ festival.location.country }}</p>
                </div>
            </div>
        </div>

        <p class="text-[17px] mt-2 text-center" :class="textColor">{{ festival.description }}</p>

        <table x-data="tables" class="w-full mx-auto mt-10" :class="table" x-cloak>
            <thead>
                <tr class="border-b border-[#ca8f53]">
                    <th colspan="3" class="text-center" :class="headCell">Line-up</th>
                </tr>
            </thead>

            <tbody>
                {% for band in festival.bands %}
                    <tr class="border-b border-[#ca8f53]">
                        <td class="w-1/5 text-center" :class="bodyCell">
                            <a class="hover:opacity-80" href="{{ path('app_band_show', {'id': band.band.id}) }}">{{ band.band.name }}</a>
                        </td>
                        <td class="w-1/5 text-center" :class="bodyCell">{{ band.stage }}</td>
                        <td class="w-1/5 text-center" :class="bodyCell">{{ band.startTime|date('d M Y, H:i') }} - {{ band.endTime|date('H:i') }}</td>
                    </tr>
                {% else %}
                    <tr class="border-b border-[#ca8f53]">
                        <td colspan="3" class="text-center" :class="bodyCell">No band available at the moment</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        <div>
            <h1 class="text-[22px] font-semibold mt-15" :class="primaryColor">Choose Your Ticket</h1>
        </div>

        <div class="flex flex-col gap-5 mt-5 mb-15">
            {% for ticket in festival.ticketTypes %}
                {% include 'public/components/_ticket_card.html.twig' with {'ticket': ticket} %}
            {% else %}
                <div>
                    <p class="text-[15px] text-gray-700 font-semibold">No ticket available at the moment</p>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}
